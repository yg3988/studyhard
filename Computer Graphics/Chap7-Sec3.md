# 투상 변환과 뷰 포트 변환

## 지엘의 뷰 포트 변환

### 정규화 장치 좌표계와 뷰 포트 좌표계

원근 분할의 결과 좌표계를 **정규화 장치 좌표계** 라 한다. 즉, (x′, y′, z′, 1)은 정규화 장치 좌표계를 기준으로 표시된 자표다. 3차원 공간에서 물체의 실제 위치를 의미하는 것은 동차 좌표가 아니다. 동차 좌표에 원근 분할을 가한 결과 좌표가 실제 3차원 좌표다.

정규화 장치 좌표계에서 화면 좌표계로 가는 작업이 **뷰 포트 변환** 이다. **화면 좌표계** 를 뷰 포트 좌표계 또는 윈도우 좌표계라 부르기도 한다.

### 뷰 포트 설정

정규화 장치 좌표계에서 화면 좌표계로 변환하기 위한 함수는 아래와 같다

`void glViewport(GLint left, GLint bottom, GLsizei width, GLsizei height);`

`glViewport()`는 뷰 포트의 위치 및 크기를 지정하는 함수로, left와 bottom은 뷰 포트 좌하단의 좌표를 나타낸다. 이를 중심으로 폭과 높에 의해 뷰 포트 사각형이 정의된다. 이러한 좌표 값은 화면의 좌하단을 원점으로 하고, 오른쪽으로 x, 위쪽으로 y 방향으로 진행하는 지엘의 화면 좌표계를 기준으로 한 것이다.

모델 좌표계로부터 전역 좌표계, 시점 좌표계, 절단 좌표계, 정규화 장치 좌표계에 이르기까지 좌표는 모두 부동 소수로 표시된다. 하지만 화면 좌표계는 화소 단위이므로, 모든 값은 정수로 표시해야 한다. 이처럼 부동 소수 정밀도의 좌표로부터 정수 정밀도 화면 좌표로 바꾸는 과정을 래스터 변환 또는 스캔 변환이라한다.
