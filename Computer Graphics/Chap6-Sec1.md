# 모델 변환과 시점 변환

## 좌표계

### 3차원 물체의 표현

그래픽에서는 물체의 표면만 표현하는 방법이 주로 사용된다. 이 방법을 **경계면 표현** 이라 하며, 물체면을 평면 다각형의 집합으로 나타낸다. 곡면 역시 최종적으로는 아주 작은 다각혀의 집합으로 표현된다는 점을 고려하면 결국 겨예면 표현의 기본틀은 다각형이라 할 수 있다.

다각형의 크기가 작아질수록 실제 곡면에 가까운 부드러운 모습이 된다. 그러나 면의 수가 늘어남에 따라 그래픽 처리량이 늘어나고 그에 따른 연산 시간도 증가한다. 다각형은 규칙적인 곡면 뿐만 아니라 불규칙적인 곡면을 표현할 수도 있다. 곡면을 표현하는 평면 다각형 하나하나를 **메시** 라고 부른다.

일반적으로 표면 메시로 사용되는 다각형은 '사각형', '삼각형'이다. 그러나 사각형 메시는 삼각형 메시에 비해 정밀도가 떨어진다. 사각형 메시는 4점을 연결하여 이루어진 면은 일반적으로 평면이 아니라 휜 면이 된다. 즉 평면 보장을 하지 못하고 정확한 렌더링을 기대하기 어렵다. 때문에 정밀한 렌더링을 요할 때는 반드시 삼각형 메시를 사용해야 한다. 3점을 연결하여 이루진 면은 반드시 평면이기 때문이다. 휘어진 사각형 메쉬 하나를 둘로 나누면 두 개의 평면 삼각형이 된다. 물론 물체 표면을 삼각형 메시로 표현하면 사각형 메시에 비해 메시 수가 2배로 늘어나고, 그 결과 연산 속도는 느려진다.

### 렌더링

렌더링에는 와이어 프레임 랜더링과 솔리드 렌더링이 있다. **와이어 프레임 렌더링** 은 다각형 메시의 경계선만으로 물체를 묘사하는 것이다. 즉, 물체의 뼈대만을 선분으로 묘사하는 것이다. 반면 **솔리드 렌더링** 은 다각형 메시에 조명을 가하여 색상이 드러난 물체를 그리는 것이다.   

와이어 프레임 렌더링은 뼈대만 렌더링하는 것이기 때문에 솔리드 렌더링에 비해 상대적으로 빠르다. 따라서 복잡한 물체를 모델링 할 때는 와이어 프레임 위주로 작업하되, 가끔씩 솔리드 렌더링으로 그려내어 중간 결과를 실제 모습으로 확인하는 것이 유리하다.

### 벡터공간

- 스칼라  
스칼라는 '크기만 있고, 방향이 없는 양'을 말한다. 스칼라에는 아무런 기하학적 특성도 없다
  - 교환법칙  
  AㆍB = BㆍA 성립
  - 결합법칙  
  AㆍBㆍC = (AㆍB)ㆍC = Aㆍ(BㆍC) 성립  
  - 역원 법칙

- 벡터  
크기와 방향을 동시에 지닌 것, 물리학에서 말하는 힘도 힘이 가해지는 방향이 있기 때문에 벡터다.
  - 모든 벡터에는 역 벡터가 존재한다.
  - 스칼라를 벡터에 곱할 수 있다.
  - 벡터의 합은 벡터다.

**벡터 공간** 는 '주어진 벡터로부터 파생되는 모든 벡터의 집합'을 말한다.

### 어파인 공간

벡터는 그것이 어디에 있든지 크기와 방향이 같다면 모두 동일하게 취급되기 때문이다. 벡터의 이러한 성질로 인해 공간상의 위치를 중시하는 기하학에서는 벡터만으로 위치를 표시하기 어렵다. 여기에 필요한 것이 점(Point)이다. 점은 위치만 있고 크기나 방향이 없다. 따라서 점이라는 개념을 벡터 공간에 추가하면 방향 뿐만 아니라 위치도 표시 할 수 있게 된다.
**어파인 공간** 은 점을 벡터의 동족처럼 취급함으로써 벡터 공간을 확장한 것이다.

- 벡터와 벡터의 덧셈(뺄셈)
- 스칼라와 벡터의 곱셈(나눗셈)
- 점과 벡터의 덧셈(뺄셈)

벡터와 벡터, 스칼라와 벡터 간의 연산은 벡터 공간에서 가능했던 연산이다 하지만 여기에 점과 벡터 사이의 연산이 추가됨으로써 어파인 공간이 된다. 점과 벡터 사이의 연산에 의해 어떤 점의 위치를 표시할 수 있게 되었다. 이렇게 함으로써 어파인 공간에서 선분을 표시할 수 있다.

점 - 점 = 벡터  
점 + 벡터 = 점

### 좌표축과 좌표계

3차원 공간에서 물체의 위치는 주어진 좌표계를 기준으로 표시된다. 그래픽에서 가장 많이 사용되는 좌표계는 **직교 좌표계** 이다.  
3차원 직교 좌표계는 원점에서 서로 직각으로 교차하는 3개의 좌표축 벡터로 이루어진다. x,y,z축의 방향은 일반적으로 오른손 법칙을 따른다. 오른손 법칙에 따르면 그림과 같이 +x축의 끝에서 +y축의 끝을 향해 오른손 주먹을 말아 쥐었을 때 엄지 방향이 z축이다. 컴퓨터 그래픽에서는 일반적으로 오른손 법칙을 적용하지만, 경우에 따라서 왼손 법칙을 적용하기도 한다. 점의 좌표는 기준이 되는 좌표계에 따라서 달라진다.  
자신의 합성에 의해 다른 모든 벡터를 표시할 수 있는 벡터를 **기반 벡터** 라고 한다. 기반 벡터의 특징은 그들끼리 **선형 독립** 이어야 한다는 점이다. 어떤 벡터가 다른 벡터의 **선형 조합** 으로 표현된다면, 이는 선형 독립니 아니다. 다시 말해 기반 벡터 관계가 아니다. 여기서 선형 조합은 '벡터에 스칼라를 곱한 것의 합'을 말한다.  
점의 위치를 표현하기 위한 기반 벡터의 수가 바로 **차원** 이다. 점의 좌표는 이러한 기반 벡터를 기준으로 나타낸 것으로, 각각의 기반 벡터에 곱해지는 계수가 바로 좌표다.

좌표계는 원점과 기반 벡터로 구성되는 프레임이다. 3차원 좌표계는 (r, V<sub>1</sub>,V<sub>2</sub>,V<sub>3</sub>)로 표현된다. 여기서 r은 원점을 가르킨다.

### 동차 좌표

벡터냐 점이냐에 따라서 표현 방식이 달라진다. 원점 r에 관한 정보를 제외시키면 벡터v, 포함시키면 점p의 좌표값이 된다. 하지만 여기에 원점 r에 제외시키면 모두 좌표로 같아지기 때문이다. 이러한 불편을 해소하기 위해 사용하는 것이 **동차 좌표** 이다. 3차원 좌표를 3개의 요소로 표시할 것이 아니라 차원을 하나 올려서 4개의 요소로 표현 하자는 것이다.

v=V<sub>1</sub>+V<sub>2</sub>+V<sub>3</sub>+0ㆍr  
p=V<sub>1</sub>+V<sub>2</sub>+V<sub>3</sub>+1ㆍr

마지막 요소가 0이면 벡터, 1이면 점이 되는 것이다.  동차 좌표의 마지막 요소로 앞 요소를 나눈 값은 실제 좌표가 된다. 즉 3차원 동차 좌표를 4차원 (x, y, z, w) 좌표로 표시하면, 3차원 실제 좌표는 (x/w, y/w, z/w가 된다.
