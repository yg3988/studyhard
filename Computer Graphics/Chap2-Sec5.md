# 컴퓨터 그래픽스 2장

## 그래픽 프로세서

### 그래픽 카드

**그래픽 카드** 는 비디오 카드, 비디오 보드, 비디오 어댑터, 그래픽 보드, 그래픽 어댑터, 그래픽 프로세서 등과 같이 여러 가지 용어로 표현된다. 그래픽 카드의 기본 역할은 화면에 그림을 그리는 것이다. 따라서 컴퓨에 의해 생성된 디지털 정보를 최종적으로 아날로그 신호로 변환해야함 화면에 뿌릴 수 있다. LCD 모니터는 화면이 디지털 회로에 의해 제어되기 때문에 변환 결과도 디지털이다.

### 그래픽 처리

초창기 그래픽 처리는 모두 메인 CPU의 몫이었다. 즉, CPU가 그리기 명령을 집접 해독하고 실행하여 프레임 버퍼를 채우거나 이를 전자총의 아날로그 신호로 바꾸는 일 등을 담당하였다. CPU의 이러한 과중한 부담을 덜기 위해 개발된 것이 그래픽 프로세서이다. 이렇게 되면 CPU는 그리기 명령어를 그래픽 카드에 넘겨준 즉시 다른 일을 처리할 수 있다. 그래픽 프로세서를 그래픽 보조 프로세서 또는 그래픽 가속기라 부리기도 한다.

### 드라이버 소프트웨어

**드라이버 소프트웨어** 에 의해 명령어를 해독하고 실행하는 것과 명령어 실행 결과 최종적인 그림을 프레임 버퍼에 기록하는 것은 그래픽 프로세서의 몫이다. 프로세서의 효율을 향상시키기 위해 이러한 작업 대부분이 프로세서 내부에 하드웨어 형태로 구현되어 있다.   

드라이버 프로그램은 CPU가 전달한 명령어를 GPU가 직접 하드웨어를 통해 실행할 수 있는 명령어로 번역하기 위한 것이다. 따라서 드라이버 프로그램은 해당 그래픽 카드에 장착된 하드웨어를 최대한 활용할 수 있게 작성되어야 한다. 드라이버 프로그램이 최적화되어야만 해당 그래픽 카드가 제 성능을 발휘하기 때문이다. 이를 위해 대부분의 그래픽 카드에서는 화면 해상도나 지원하는 컬러 수에 따라 별도의 드라이버 프로그램을 사용한다.

## 가속 장치

디스플레이 프로세서와 지오메트리 프로세서를 합쳐 **그래픽 처리기(GPU)** 라고도 한다. 일반적으로 CPU는 시스템 버스를 통해 GPU에 명령어만 전달하며, GPU는 이를 해독하고 실행하여 프레임 버퍼 내용을 작성한다. 만약 메인 메모리 내용을 프레임 버퍼로 직접 가져갈 필요가 있다면 '가속 그래픽 포트(AGP)'를 사용한다. 이 포트를 사용하면 시스템 버스를 거치지 않기 때문에 매우 빠른 속도로 데이터를 이동할 수 있다.

현재 대부분의 컴퓨터는 AGP 대신 PCI Express 방식을 택하고 있다. 이 방식의 장점은 여러개의 주변 장치를 메인보드 하나에 연결할 수 있고, AGP보다 고속의 송수신이 가능하다. 기존의 PCI가 병령 버스 구조라면 PCI Express는 점대점 방식의 시리얼 연결 구조라 할 수 있다.

### 지오메트리 프로세서

3차원 물체는 다각형의 집합으로 표현할 수 있다. 이 때 다각형을 구성하는 정점을 기준으로 물체의 이동, 회전, 절단, 투상, 조명, 텍스처 등의 다양한 그래픽 처리 작업이 진행된다. 이를 **지오메트리 프로세서** 가 이 역할을 담당한다.

### 디스플레이 프로세서

3차원 영상 처리를 가속시키기 위한 장치가 지오메트리 프로세서라면 **디스플레이 프로세서** 는 2차원 영상 처리를 가속시키기 위한 것이다. 2차원 물체는 지오메트리 프로세서의 개입 없이 곧바로 디스플레이 프로세서로 입력되기도 한다. 비트맵영상을 이동시키거나 칠하기, 윈도우 위치 조절 또는 크기 조절, 선분 그리기, 글꼴 크기 조절, 다각형 그리기 등 2차원 영상 처리와 관련된 모든 연산이 디스플레이 프로세서에 의해 이루어진다. 이 연산은 하드웨어에 의해 매우 빠르게 진행된다. 물론 연산의 결과는 바로 프레임 버퍼에 저장되어 화면 표시 내용이 즉시 변경된다.

### VRAM

그래픽 카드는 프레임 버퍼를 비롯한 다양한 그래픽 메모리를 내장하고 있따. 그래픽 메모리는 일명 **VRAM** 라 불리는 것으로, DRAM과는 달리 2중 포트 형태를 띤다. 디스플레이 프로세서가 프레임 버퍼에 새로운 내용을 기억시키는 도중에 비디오 컨트롤러는 현재 기록된 내용을 읽어서 화면에 뿌려야 하기 때문이다.  
VRAM의 한쪽 포트를 통해 메인 메모리 내용을 옮겨 적은 동시게 다른 포트를 통해 현재 그래픽 메모리의 내용을 읽어감

### RAMDAC

비디오 컨트롤러 또는 **램댁(RAMDAC)** 은 단일 칩으로, 프레임 버퍼의 내용을 CRT에 뿌리기 위한 필수 요소다. 프레임 버퍼에 있는 화소별 밝기는 디지털 형태이므로, 이를 화면에 반영하기 위해서는 아날로그 전압으로 변환해야 한다. 램댁은 변환 속도를 극대화하기 위해 SRAM으로 구현된 **전압 보기표(LUT)** 를 사용한다. 보기표를 읽어서 실제 아날로그 전압을 발생시키는 것으로 DAC로, 컬러 모니터는 R, G, B 색상별로 3개의 DAC를 사용한다. LCD, 플라즈마, LED 등 디지털 방식의 디스플레이는 램댁이 필요 없다.
