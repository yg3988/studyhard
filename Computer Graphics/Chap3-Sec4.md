# 그래픽 컬러 처리

## 하프 토우닝과 디더링

### 하프 토우닝

흑색 점의 크기를 변화시켜 점의 크기가 커질수록 어붑게 보이도록 하는 것, 즉 점의 크기를 다양하게 하여 여러 가지 회색 레벨을 만들어 출력하는 방식을 **하프 토우닝 기법** 이라 한다. 사람의 눈은 어떤 색을 그 자체로 인식하는 것이 아니라 주변 영역에 걸쳐있는 평균적인 명도를 인식하기 때문에 가능한 기법이다. 실제로 회색을 사용하지 않고 우리 눈의 인식 과정을 이용하여 회색을 만들어 낸 것에 불과하다.

컴퓨터 화면에서는 화소 내부의 인점을 활성화 비활성화 하는 방법으로 하프 토우닝을 구현하는데 이를 디지털 하프 토우닝이라 한다. 이 때 하프 토우닝 효과는 인접 화소를 포함하는 확장 영역을 감안하여 얻어야 한다.

흑백 모니터에서 인접한 4개의 화소를 선택적으로 밝히면 우리 눈에는 화소 4개의 면적에 평균적인 명도가 들어오게 되고 사람의 눈은 4개의 화소를 하나의 단위로 인식한다. 하지만 이경우 실질적인 화면 해상도는 감소하게 된다. 4개의 화소를 하나의 단위로 간주했기 때문이다. 실제로 눈으로 느껴지는 해상도는 512×384로 감소하게 된다. 인접한 4개의 화소가 아닌 16개의 화소를 하나의 단위로 하프 토우닝하면 256×192로 감소한다.

컬러 모니터의 하프 토우닝 기법을 위 흑백 모니터 예시처럼 4개의 인접 화소를 묶어서 생각해보면 4개의 화소 각각이 3개의 인점으로 구성되어있다. 즉, 붉은 색을 표현할 때 전체 4개의 화소에 5가지 경우가 가능하다. 같은 논리로 녹색과 파랑색도 각각 5가지 경우가 있으며 4개 화소 전체에 걸쳐 가능한 색의 종류는 5<sup>3</sup>(=125)가지로, 하프 토우닝 적용 이전 보다 다양한 색을 얻어 낼 수 있다.

하프 토운 행렬은 화소를 선택하는 순서를 행렬로 표현한 것이다. 하프 토운 패턴은 임의로 구성할 수 있지만 규칙성이 없어야 한다는 점에 유의해야 한다.

### 디더링

**디더링** 은 하프 토우닝 과 동일한 의미로 사용되기도 하지만 엄밀하게 말하면 하프 토우닝과는 구별되는 개념이다. 실질적 시각적 해상도 저하를 감소해서라도 주어진 색을 최대한 근사적으로 표현하는 것이 하프토우닝이라면, 디더링은 해상도가 감소하지않고 근사화에 따른 시각적 오류를 최소하하기 위해 사용하는 것이다. 패턴 디더링에서는 하프 토운 행렬 처럼 디더 행렬을 사용한다. 0 ~ 8까지 정수로 구성된 3×3 디더 행렬을 사용하기 위해선 모든 화소의 명도를 최대 정규화 해야 한다.
